<head>
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Performance: Preconnect to external domains -->
  <link rel="preconnect" href="https://giscus.app" crossorigin>
  <link rel="dns-prefetch" href="https://giscus.app">
  
  <!-- Performance: Preload critical resources -->
  <link rel="preload" href="/assets/css/style.css?v={{ site.theme_version }}" as="style">
  <link rel="preload" href="/assets/js/theme-toggle.js?v={{ site.theme_version }}" as="script">
  
  {%- seo -%}
  
  <!-- Enhanced Open Graph metadata for better social sharing -->
  {%- if page.image -%}
  <meta property="og:image" content="{{ page.image | absolute_url }}">
  <meta property="og:image:alt" content="{{ page.title | escape }}">
  <meta name="twitter:image" content="{{ page.image | absolute_url }}">
  <meta name="twitter:card" content="summary_large_image">
  {%- else -%}
  <meta property="og:image" content="{{ '/assets/images/favicon/apple-touch-icon.png' | absolute_url }}">
  <meta name="twitter:card" content="summary">
  {%- endif -%}
  
  {%- if page.description -%}
  <meta name="description" content="{{ page.description | escape }}">
  <meta property="og:description" content="{{ page.description | escape }}">
  <meta name="twitter:description" content="{{ page.description | escape }}">
  {%- elsif page.excerpt -%}
  <meta name="description" content="{{ page.excerpt | strip_html | truncate: 160 }}">
  <meta property="og:description" content="{{ page.excerpt | strip_html | truncate: 160 }}">
  <meta name="twitter:description" content="{{ page.excerpt | strip_html | truncate: 160 }}">
  {%- endif -%}
  
  <!-- Article structured data for blog posts -->
  {%- if page.layout == 'post' -%}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ page.title | escape }}",
    "datePublished": "{{ page.date | date_to_xmlschema }}",
    "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
    "author": {
      "@type": "Person",
      "name": "{{ site.author | default: 'Lionel Jullien' }}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ site.title }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ '/assets/images/favicon/apple-touch-icon.png' | absolute_url }}"
      }
    },
    "description": "{{ page.excerpt | strip_html | truncate: 160 | escape }}",
    {%- if page.image -%}
    "image": "{{ page.image | absolute_url }}",
    {%- endif -%}
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}"
    }
  }
  </script>
  {%- endif -%}
  
  <link rel="stylesheet" href="/assets/css/style.css?v={{ site.theme_version }}">
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
  {%- include google-analytics.html -%}
  {%- endif -%}
  <!-- MERMAID SUPPORT -->
  {% if page.mermaid %}
  {% include mermaid.html %}
  {% endif %}
  
  {% if site.open_external_links_in_new_tab != false %}
  <script src="/assets/js/new_window.js" defer></script>
  {% endif %}
  
  <script src="/assets/js/theme-toggle.js?v={{ site.theme_version }}"></script>
  <script src="/assets/js/code-copy.js" defer></script>
  <script src="/assets/js/lazy-load.js" defer></script>
  <script src="/assets/js/category-filter.js" defer></script>
  {%- if page.layout == 'post' -%}
  <script src="/assets/js/reading-progress.js" defer></script>
  {%- endif -%}
  
  <link
  rel="apple-touch-icon"
  sizes="180x180"
  href="{{ 'assets/images/favicon/apple-touch-icon.png' | relative_url }}"
  />
  <link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="{{ 'assets/images/favicon/favicon-32x32.png' | relative_url }}"
  />
  <link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="{{ 'assets/images/favicon/favicon-16x16.png' | relative_url }}"
  />
  
  <meta name="google-site-verification" content="ekN4eYyUb3noZEqgRg8BWMBhAzrWSCuNkvYByWGRGKk" />
  

</head>
